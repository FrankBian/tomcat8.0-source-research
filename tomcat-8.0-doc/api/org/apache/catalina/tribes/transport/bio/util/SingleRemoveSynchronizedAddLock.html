<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SingleRemoveSynchronizedAddLock (Apache Tomcat 8.0.21 API Documentation)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SingleRemoveSynchronizedAddLock (Apache Tomcat 8.0.21 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Apache Tomcat 8.0.21</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/LinkObject.html" title="class in org.apache.catalina.tribes.transport.bio.util"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html" target="_top">Frames</a></li>
<li><a href="SingleRemoveSynchronizedAddLock.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.catalina.tribes.transport.bio.util</div>
<h2 title="Class SingleRemoveSynchronizedAddLock" class="title">Class SingleRemoveSynchronizedAddLock</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.catalina.tribes.transport.bio.util.SingleRemoveSynchronizedAddLock</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SingleRemoveSynchronizedAddLock</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The class <b>SingleRemoveSynchronizedAddLock</b> implement locking for
 accessing the queue by a single remove thread and multiple add threads.

 A thread is only allowed to be either the remove or
 an add thread.

 The lock can either be owned by the remove thread
 or by a single add thread.

 If the remove thread tries to get the lock,
 but the queue is empty, it will block (poll)
 until an add threads adds an entry to the queue and
 releases the lock.

 If the remove thread and add threads compete for
 the lock and an add thread releases the lock, then
 the remove thread will get the lock first.

 The remove thread removes all entries in the queue
 at once and processes them without further
 polling the queue.

 The lock is not reentrant, in the sense, that all
 threads must release an owned lock before competing
 for the lock again!</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>1.1</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Peter Rossbach</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#SingleRemoveSynchronizedAddLock()">SingleRemoveSynchronizedAddLock</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#SingleRemoveSynchronizedAddLock(boolean)">SingleRemoveSynchronizedAddLock</a></strong>(boolean&nbsp;dataAvailable)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#abortRemove()">abortRemove</a></strong>()</code>
<div class="block">Abort any polling remover thread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#getAddWaitTimeout()">getAddWaitTimeout</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#getRemoveWaitTimeout()">getRemoveWaitTimeout</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isAddLocked()">isAddLocked</a></strong>()</code>
<div class="block">Check if an add thread owns the lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isDataAvailable()">isDataAvailable</a></strong>()</code>
<div class="block">Check if the locked object has data available
 i.e. the remover can stop poling and get the lock.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isRemoveLocked()">isRemoveLocked</a></strong>()</code>
<div class="block">Check if the remove thread owns the lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#isRemovePolling()">isRemovePolling</a></strong>()</code>
<div class="block">Check if the remove thread is polling.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#lockAdd()">lockAdd</a></strong>()</code>
<div class="block">Acquires the lock by an add thread and sets the add flag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#lockRemove()">lockRemove</a></strong>()</code>
<div class="block">Acquires the lock by the remove thread and sets the remove flag.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#setAddWaitTimeout(long)">setAddWaitTimeout</a></strong>(long&nbsp;timeout)</code>
<div class="block">Set value of addWaitTimeout</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#setRemoveWaitTimeout(long)">setRemoveWaitTimeout</a></strong>(long&nbsp;timeout)</code>
<div class="block">Set value of removeWaitTimeout</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#unlockAdd(boolean)">unlockAdd</a></strong>(boolean&nbsp;dataAvailable)</code>
<div class="block">Releases the lock by an add thread and reset the remove flag.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html#unlockRemove()">unlockRemove</a></strong>()</code>
<div class="block">Releases the lock by the remove thread and reset the add flag.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SingleRemoveSynchronizedAddLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SingleRemoveSynchronizedAddLock</h4>
<pre>public&nbsp;SingleRemoveSynchronizedAddLock()</pre>
</li>
</ul>
<a name="SingleRemoveSynchronizedAddLock(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SingleRemoveSynchronizedAddLock</h4>
<pre>public&nbsp;SingleRemoveSynchronizedAddLock(boolean&nbsp;dataAvailable)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAddWaitTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddWaitTimeout</h4>
<pre>public&nbsp;long&nbsp;getAddWaitTimeout()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Value of addWaitTimeout</dd></dl>
</li>
</ul>
<a name="setAddWaitTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddWaitTimeout</h4>
<pre>public&nbsp;void&nbsp;setAddWaitTimeout(long&nbsp;timeout)</pre>
<div class="block">Set value of addWaitTimeout</div>
</li>
</ul>
<a name="getRemoveWaitTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoveWaitTimeout</h4>
<pre>public&nbsp;long&nbsp;getRemoveWaitTimeout()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Value of removeWaitTimeout</dd></dl>
</li>
</ul>
<a name="setRemoveWaitTimeout(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRemoveWaitTimeout</h4>
<pre>public&nbsp;void&nbsp;setRemoveWaitTimeout(long&nbsp;timeout)</pre>
<div class="block">Set value of removeWaitTimeout</div>
</li>
</ul>
<a name="isDataAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDataAvailable</h4>
<pre>public&nbsp;boolean&nbsp;isDataAvailable()</pre>
<div class="block">Check if the locked object has data available
 i.e. the remover can stop poling and get the lock.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True iff the lock Object has data available.</dd></dl>
</li>
</ul>
<a name="isAddLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAddLocked</h4>
<pre>public&nbsp;boolean&nbsp;isAddLocked()</pre>
<div class="block">Check if an add thread owns the lock.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True iff an add thread owns the lock.</dd></dl>
</li>
</ul>
<a name="isRemoveLocked()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemoveLocked</h4>
<pre>public&nbsp;boolean&nbsp;isRemoveLocked()</pre>
<div class="block">Check if the remove thread owns the lock.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True iff the remove thread owns the lock.</dd></dl>
</li>
</ul>
<a name="isRemovePolling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRemovePolling</h4>
<pre>public&nbsp;boolean&nbsp;isRemovePolling()</pre>
<div class="block">Check if the remove thread is polling.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True iff the remove thread is polling.</dd></dl>
</li>
</ul>
<a name="lockAdd()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockAdd</h4>
<pre>public&nbsp;void&nbsp;lockAdd()</pre>
<div class="block">Acquires the lock by an add thread and sets the add flag.
 If any add thread or the remove thread already acquired the lock
 this add thread will block until the lock is released.</div>
</li>
</ul>
<a name="lockRemove()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRemove</h4>
<pre>public&nbsp;boolean&nbsp;lockRemove()</pre>
<div class="block">Acquires the lock by the remove thread and sets the remove flag.
 If any add thread already acquired the lock or the queue is
 empty, the remove thread will block until the lock is released
 and the queue is not empty.</div>
</li>
</ul>
<a name="unlockAdd(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockAdd</h4>
<pre>public&nbsp;void&nbsp;unlockAdd(boolean&nbsp;dataAvailable)</pre>
<div class="block">Releases the lock by an add thread and reset the remove flag.
 If the reader thread is polling, notify it.</div>
</li>
</ul>
<a name="unlockRemove()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockRemove</h4>
<pre>public&nbsp;void&nbsp;unlockRemove()</pre>
<div class="block">Releases the lock by the remove thread and reset the add flag.
 Notify all waiting add threads,
 that the lock has been released by the remove thread.</div>
</li>
</ul>
<a name="abortRemove()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>abortRemove</h4>
<pre>public&nbsp;void&nbsp;abortRemove()</pre>
<div class="block">Abort any polling remover thread</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Apache Tomcat 8.0.21</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/catalina/tribes/transport/bio/util/LinkObject.html" title="class in org.apache.catalina.tribes.transport.bio.util"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/catalina/tribes/transport/bio/util/SingleRemoveSynchronizedAddLock.html" target="_top">Frames</a></li>
<li><a href="SingleRemoveSynchronizedAddLock.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000-2015 Apache Software Foundation. All Rights Reserved.</small></p>
</body>
</html>
